---
title: 借鸡生蛋丨解决 Kubernetes 安装过程中的镜像拉取问题
date: 2020-12-26
tags:
 - Kubernetes

categories:
 - 实用技能
---


我的技术专栏中的一篇文章 [Docker 镜像加速配置实践](http://www.weishidong.com/blogs/%E5%AE%9E%E7%94%A8%E6%8A%80%E8%83%BD/%E5%AE%B9%E5%99%A8%E5%8C%96/2020122602.html) 也是通过借鸡生蛋的方式解决了 Docker 官方镜像拉取慢、会超时的问题。

使用 Kubeadm 安装 Kubernetes 时，镜像是从 **k8s.gcr.io** 拉取，而不是 Docker Hub，所以加速了的 Docker 对 Kubernetes 安装过程中的镜像拉取速度并没有帮助。


这一次我们也要借鸡生蛋，通过 DockerHub 拉取 Kubernetes 相关镜像。熟悉 Docker 的朋友一定记得 `FROM` 命令，借鸡生蛋的思路是通过 `FROM` 命令设定 Kubernetes 相关镜像为基础镜像，而且只设定这一层，这样一来封装的新镜像其实和原镜像的功能是一样的，从而达到掠过 **k8s.gcr.io** 的目的。

### 借鸡生蛋实践操作

打开 Docker Hub 并搜索任意一个 Kubernetes 相关镜像的名称，例如 `kube-apiserver`
<Vssue :title="$title" />

